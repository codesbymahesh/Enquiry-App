<div class="parent">
    <div class="container">
        <div class="form-container">
            <div class="form-header">
                <h2><i class="bi bi-envelope-paper"></i> Customer Enquiry</h2>
                <p>We'd love to hear from you. Fill out the form below and we'll get back to you soon!</p>
            </div>

            <form id="enquiryForm" novalidate>
                <!-- Customer Name -->
                <div class="form-group">
                    <label for="customerName" class="form-label">
                        <i class="bi bi-person-fill"></i>
                        Customer Name <span class="required">*</span>
                    </label>
                    <input type="text" [(ngModel)]="newEnquiryObj.customerName" class="form-control" id="customerName" name="customerName"
                        placeholder="Enter your full name" required>
                    <div class="invalid-feedback">Please provide your name.</div>
                </div>

                <!-- Customer Email & Phone -->
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="customerEmail" class="form-label">
                                <i class="bi bi-envelope-fill"></i>
                                Email Address <span class="required">*</span>
                            </label>
                            <input type="email" [(ngModel)]="newEnquiryObj.customerEmail" class="form-control" id="customerEmail" name="customerEmail"
                                placeholder="your@email.com" required>
                            <div class="invalid-feedback">Please provide a valid email.</div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="customerPhone" class="form-label">
                                <i class="bi bi-telephone-fill"></i>
                                Phone Number <span class="required">*</span>
                            </label>
                            <input type="tel" [(ngModel)]="newEnquiryObj.customerPhone" class="form-control" id="customerPhone" name="customerPhone"
                                placeholder="+1 (555) 123-4567" required>
                            <div class="invalid-feedback">Please provide your phone number.</div>
                        </div>
                    </div>
                </div>

                <!-- Category & Status -->
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="categoryId" class="form-label">
                                <i class="bi bi-bookmark-fill"></i>
                                Category <span class="required">*</span>
                            </label>
                            <select [(ngModel)]="newEnquiryObj.categoryId" class="form-select" id="categoryId" name="categoryId" required>
                                <option value="" selected disabled>Select a category</option>
                                <!-- @for (item of categoryList; track $index) {
                                    <option [value]="item.categoryId">{{item.categoryName}}</option>
                                } -->
                                <option *ngFor="let item of categoryList" [value]="item.categoryId">
                                    {{item.categoryName}}
                                </option>
                            </select>
                            <div class="invalid-feedback">Please select a category.</div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="statusId" class="form-label">
                                <i class="bi bi-flag-fill"></i>
                                Priority Status <span class="required">*</span>
                            </label>
                            <select [(ngModel)]="newEnquiryObj.statusId" class="form-select" id="statusId" name="statusId" required>
                                <option value="" selected disabled>Select priority</option>
                                <!-- @for (item of statusList; track $index) {
                                    <option [value]="item.statusId">{{item.statusName}}</option>
                                } -->
                                <option *ngFor="let item of statusList" [value]="item.statusId">{{item.statusName}}
                                </option>
                            </select>
                            <div class="invalid-feedback">Please select a status.</div>
                        </div>
                    </div>
                </div>

                <!-- Enquiry Date -->
                <div class="form-group">
                    <label for="enquiryDate" class="form-label">
                        <i class="bi bi-calendar-fill"></i>
                        Enquiry Date <span class="required">*</span>
                    </label>
                    <input type="date" [(ngModel)]="newEnquiryObj.enquiryDate" class="form-control" id="enquiryDate" name="enquiryDate" required>
                    <div class="invalid-feedback">Please provide an enquiry date.</div>
                </div>

                <!-- Enquiry Type -->
                <div class="form-group">
                    <label for="enquiryType" class="form-label">
                        <i class="bi bi-list-ul"></i>
                        Enquiry Type <span class="required">*</span>
                    </label>
                    <input type="text" [(ngModel)]="newEnquiryObj.enquiryType" class="form-control" id="enquiryType" name="enquiryType"
                        placeholder="e.g., New Business, Existing Customer, Partner Inquiry, Media Inquiry" required>
                    <div class="invalid-feedback">Please provide an enquiry type.</div>
                </div>

                <!-- Message -->
                <div class="form-group">
                    <label for="message" class="form-label">
                        <i class="bi bi-chat-left-text-fill"></i>
                        Your Message <span class="required">*</span>
                    </label>
                    <textarea [(ngModel)]="newEnquiryObj.message" class="form-control" id="message" name="message"
                        placeholder="Tell us more about your enquiry..." required></textarea>
                    <div class="invalid-feedback">Please provide a message.</div>
                </div>

                <!-- Follow-up Date -->
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="followUpDate" class="form-label">
                                <i class="bi bi-calendar-event"></i>
                                Preferred Follow-up Date
                            </label>
                            <input type="date" [(ngModel)]="newEnquiryObj.followUpDate" class="form-control" id="followUpDate" name="followUpDate">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="feedback" class="form-label">
                                <i class="bi bi-star-fill"></i>
                                Additional Feedback
                            </label>
                            <input type="text" [(ngModel)]="newEnquiryObj.feedback" class="form-control" id="feedback" name="feedback"
                                placeholder="Any additional comments">
                        </div>
                    </div>
                </div>

                <!-- Is Converted Checkbox -->
                <div class="form-group">
                    <div class="form-check">
                        <input [(ngModel)]="newEnquiryObj.isConverted" class="form-check-input" type="checkbox" id="isConverted" name="isConverted">
                        <label class="form-check-label" for="isConverted">
                            Mark as converted opportunity
                        </label>
                    </div>
                </div>

                <!-- Submit Button -->
                <button type="button" (click)="onSaveEnquiry()" class="btn btn-submit">
                    <i class="bi bi-send-fill me-2"></i>Submit Enquiry
                </button>

                <!-- Success Message -->
                <div class="success-message" id="successMessage">
                    <i class="bi bi-check-circle-fill" style="font-size: 2rem;"></i>
                    <h4 class="mt-3">Thank You!</h4>
                    <p>Your enquiry has been submitted successfully. We'll get back to you soon.</p>
                </div>
            </form>
        </div>
    </div>
</div>